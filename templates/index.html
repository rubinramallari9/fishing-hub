{% include 'header.html' %}

{% block content %}
<header class="bg-dark py-5"
        style="background-image: url('../static/assets/1.jpg'); background-size: cover; background-position: center; height: 50vh;">
    <div class="container px-4 px-lg-5 my-5 d-flex align-items-center justify-content-center" style="height: 100%;">
        <h1 class="text-white fw-bold"></h1>
    </div>
</header>
<br>
{% for category, items in categories.items() %}
    <div class="category-banner mb-5">
        <div class="banner-text">
            <h2>{{ category }}</h2>
        </div>
        <div class="row banner-items justify-content-center"> <!-- Flexbox alignment for horizontal placement -->
            {% for product in items %}
                <div class="col-md-3 mb-3 d-flex justify-content-center"> <!-- Adjusted column size and centering -->
                    <div class="card h-100 small-card"> <!-- Added small-card class -->
                        <!-- Product image -->
                        <img class="card-img-top" src="{{ product.img_url }}" alt="Product Image"/>
                        <!-- Product details -->
                        <div class="card-body p-3"> <!-- Adjusted padding -->
                            <div class="text-center">
                                <!-- Product name -->
                                <h5 class="fw-bold">{{ product.product_name }}</h5>
                            </div>
                        </div>
                        <!-- Product actions -->
                        <div class="card-footer p-2 border-top-0 bg-transparent"> <!-- Adjusted padding -->
                            <div class="text-center">
                                <a class="btn btn-outline-dark" href="{{ url_for('product_details', product_type=category, product_id=product.id) }}">View Details</a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
{% endfor %}

<!-- Swiper Carousel Section -->
<section class="py-5">
    <div class="container px-4 px-lg-5 mt-5">
        <div class="swiper-wrapper-container">
            <div class="swiper-container">
                <div class="swiper-wrapper">
                    <!-- Add your Swiper slides here -->
                </div>
                <div class="swiper-button-next"></div>
                <div class="swiper-button-prev"></div>
            </div>
        </div>
    </div>
</section>

<!-- Swiper JS -->
<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
    var swiper = new Swiper('.swiper-container', {
        slidesPerView: 3, // Adjust the number of slides shown
        spaceBetween: 10, // Adjust space between slides
        loop: true,
        autoplay: {
            delay: 4000,
            disableOnInteraction: false,
        },
        navigation: {
            nextEl: '.swiper-button-next',
            prevEl: '.swiper-button-prev',
        },
        breakpoints: {
            640: {
                slidesPerView: 1,
            },
            768: {
                slidesPerView: 2,
            },
            1024: {
                slidesPerView: 3,
            }
        }
    });
</script>

<style>
    .bg-dark {
        position: relative;
    }

    .position-relative {
        position: relative;
    }

    .position-absolute {
        position: absolute;
    }

    .bg-dark.opacity-50 {
        background-color: rgba(0, 0, 0, 0.5);
    }

    .category-banner {
        margin-bottom: 30px;
        width: 90%; /* Reduced width of the banner */
        max-width: 1200px; /* Ensure banner does not exceed this width */
        margin-left: auto;
        margin-right: auto;
    }

    .banner-text {
        background: linear-gradient(to right, #f7850d, #ff9a3d);
        color: #000; /* Set text color to black */
        padding: 25px;
        text-align: center;
        border-radius: 10px;
        margin-bottom: 20px;
        font-weight: bold; /* Make the text thicker */
    }

    .banner-items {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 15px; /* Increased gap to make cards sit a bit more loosely */
    }

    .small-card {
        width: 100%;
        max-width: 280px; /* Increased max-width for larger cards */
        height: auto;
    }

    .card-img-top {
        width: 100%;
        height: 220px; /* Increased height for larger images */
        object-fit: cover;
    }

    .swiper-wrapper-container {
        position: relative;
        overflow: hidden;
    }

    .swiper-container {
        width: 100%; /* Adjust width */
        height: 250px; /* Adjust height */
        margin: 0 auto; /* Center horizontally */
    }

    .swiper-slide img {
        width: auto;
        height: 100%; /* Make image fill height */
        max-height: 250px; /* Ensure image doesn't exceed container height */
        object-fit: cover; /* Maintain aspect ratio */
    }

    .swiper-button-next, .swiper-button-prev {
        color: #000; /* Customize arrow color */
        width: 40px; /* Adjust width */
        height: 40px; /* Adjust height */
        top: 50%;
        transform: translateY(-50%);
        z-index: 10;
    }

    .swiper-button-next {
        right: 20px; /* Position to the right */
    }

    .swiper-button-prev {
        left: 20px; /* Position to the left */
    }
</style>

{% endblock %}

{% include 'footer.html' %}
